Dans le modèle transitoire de stratification de bain de corium en fond de cuve de PROCOR, jusqu'à quatre couches sont considérées comme montré dans la figure~\ref{fig:bain_corium_croute}. 
\begin{figure}
\centering
\includegraphics[width=0.7\textwidth, keepaspectratio=true]{Figures/bain_corium_croute.eps}
\caption{Bain de corium et sa croûte en fond de cuve.}
\label{fig:bain_corium_croute}
\end{figure}
Pour former le bain de corium, de bas en haut peuvent exister trois couches : une couche de métaux lourds (HM.), une couche oxyde (OX.) et une couche métallique légère (LM.). Dans le modèle de stratification utilisé, la couche métallique légère apparaît suite aux métaux remontant au travers de la couche oxyde lorsque le système à l'équilibre correspond à une couche métallique légère au dessus d'une couche oxyde. Suivant des hypothèses de phénomènes de ségrégation de phase, ces trois couches sont entourées d'une croûte réfractaire. Une couche d'acier liquide hors équilibre (FE.), correspondant à la couche de \textit{focusing effect}, peut se trouver au dessus de ces trois couches et formant ainsi une quatrième couche. Seule la croûte en contact avec la cuve est modélisée dans cette note; la croûte en dessous de la couche d'acier liquide hors équilibre n'est pas modélisée par le modèle présenté et est seulement considérée en termes de fermeture pour la température entre le bain sous la croûte et cette couche. 

Les puissances résiduelles $\dot{Q}$ (W) des couches métal lourd, oxyde et métal léger sont transmises, entre autres, latéralement aux mailles de la croûte sous forme d'une puissance $\phi S$ (W).

À l'interface entre une maille de croûte et la couche du bain correspondante, la température dépend de l'état thermique de la croûte. Si la croûte est en conduction, la température d'interface est donnée par l'égalité des flux de chaleur de part et d'autre de l'interface. Si la croûte (maille $j$) est en fusion (resp. solidification), la température d'interface est donnée par la température $T_j^{fus}$ (resp. $\temperature[sol]{l(j)}$).

Le couplage entre le modèle de bain de corium et le modèle de croûte se définit en termes d'échanges de données. De manière générale, que la croûte soit en conduction, en fusion ou en solidification, le modèle de bain de corium et le modèle de croûte échangent un flux de chaleur, une température d'interface et un débit de masse. Le couplage peut être défini sous la forme d'un graphe (voir le graphe de la figure~\ref{fig:graphe_couplage_corium_croute}). 
\begin{figure}
\centering
\includegraphics[width=0.7\textwidth, keepaspectratio=true]{Figures/graphe_couplage_corium_croute.eps}
\caption{Graphe du couplage entre le modèle de bain de corium et le modèle de croûte.}
\label{fig:graphe_couplage_corium_croute}
\end{figure}
Les modèles sont représentés par les n\oe{}uds du graphe et les échanges de données par des arcs entre les n\oe{}uds. Chaque arc contient un communicateur $\mathcal{C}$ permettant de faire communiquer \emph{correctement} des modèles qui, a priori, peuvent avoir des sorties et des entrées qui doivent être adaptées. Par exemple, le communicateur $\mathcal{C}^{\phi}$ permet de \emph{projeter} les puissances $\phi S$ par couche du bain en puissance ($\phi S_j$) sur les multiples mailles $C_j$ de la croûte. De même, le communicateur $\mathcal{C}^{\frac{dm}{dt}, T}$ distribue les débits de masse $\dot{m}_j$ et les températures d'interface $T_j^{in}$ par maille de croûte sur les couches du bain. 

La représentation par graphe et modèles et communicateurs est celle adoptée dans la plate-forme PROCOR pour le couplage. On ne donnera pas plus de détails sur l'aspect logiciel du couplage dans PROCOR. Plus de détails sur l'architecture et les algorithmes de couplage dans PROCOR peuvent être trouvés dans \cite{Viot2018}. En revanche, l'aspect numérique des communications est détaillé ci-après, en particulier les opérateurs mathématiques de projection et de réduction utilisés dans les communicateurs.

{\it Projection sur l'interface bain/croûte dans les communicateurs}\\
Vu de la croûte, on note $P_{\gamma_{in}}^{c}=\displaystyle{\bigcup_j} \Gamma_j^c$ une partition géométrique de l'interface $\gamma_{in}$ suivant l'axe $z$ correspondant au maillage de la croûte. De la même façon, on note $P_{\gamma_{in}}^{b}=\displaystyle{\bigcup_i} \Gamma_i^b$ une partition géométrique de l'interface $\gamma_{in}$ vue du bain de corium et correspondant aux couches du bain. Lors des communications entre entre le bain de corium et la croûte, il est nécessaire d'effectuer une projection des quantités communiquées et décomposées sur la partition $P_{\gamma_{in}}^{c}$ vers la partition $P_{\gamma_{in}}^{b}$ et inversement. Basée sur l'intersection de ces deux partitions, une projection orthogonale en norme $L^2$ sur la base du sous-espace vectoriel des fonctions constantes par maille (maillage issu de la partition $P_{\gamma_{in}}^{c}$) est utilisée (approximation $\mathbbm{P}_0$). Afin d'illustrer cette projection, est détaillée dans ce qui suit la projection des températures d'interface $T_j^{in}$ de la croûte sur les couches du bain. Cette projection à l'interface est également utilisée pour les autres quantités communiquées.

On note $\{T_j^c\}_j=T_j^{in}$ la décomposition de la température d'interface sur le maillage de la croûte ($P_{\gamma_{in}}^{c}$) que l'on souhaite projeter et $\{T_i^b\}_i$ la température projetée sur le maillage correspondant aux couches du bain.
En définissant la base de fonctions caractéristiques orthogonale $\{{\mathbbm{1}}_{\Gamma_j^c}\}_j$ pour la partition $P_{\gamma_{in}}^{c}$ et  $\{{\mathbbm{1}}_{\Gamma_i^b}\}_i$ pour la partition $P_{\gamma{_{in}}}^{b}$, la température sur l'interface vue de la croûte est donnée par $T^c(z)=\sum_j {T_j^c {\mathbbm{1}}_{\Gamma_j^c}(z)}$ et vu du bain par  $T^b(z)=\sum_i {T_i^b {\mathbbm{1}}_{\Gamma_i^b}(z)}$.
Les quantités $T_i^b$ donnant les valeurs de la température à l'interface vue du bain sont ainsi données par : $$T_i^b=\sum_j P_{i,j} T_j^c$$ où $\left(P_{i,j}\right)_{i,j}$ est la matrice de projection donnée par : $$P_{i,j}=\frac{\int_{\Gamma_i^b\cap\Gamma_j^c}{\mathbbm{1}}_{\Gamma_i^b}{\mathbbm{1}}_{\Gamma_j^c}\, dz}{ \int_{\Gamma_i^b}{\mathbbm{1}}_{\Gamma_i^b}^2\, dz}=\frac{\vert \Gamma_i^b\cap\Gamma_j^c \vert}{\vert \Gamma_i^b \vert}$$

{\it Projection des températures et masses sur le maillage de la croûte}\\
Lorsque la géométrie définie par les couches du bain de corium évolue, la croûte est remaillée (voir section \ref{sect:thermique}). On note $P_{\Omega}=\displaystyle{\bigcup_j} \Omega_j$ une partition géométrique du domaine $\Omega_C$ occupé par la croûte avant projection et $P_{\Omega^*}^*=\displaystyle{\bigcup_i} \Omega_i^*$ une partition géométrique du domaine $\Omega_C^*$ occupé par la croûte après projection (partition différente due à un changement de configuration du bain - la solidification ou la fusion de la croûte entraine une modification des épaisseurs des couches du bain). De la même manière que précédemment, une projection $L^2$ est utilisée sur la base du sous-espace vectoriel des fonctions constantes par maille (maillage issu de la partition $P_{\Omega^*}^*$) (approximation $\mathbbm{P}_0$).
%On définit également les bases de fonctions orthogonales $\{{\mathbbm{1}}_{\Omega_j}\}_j$ pour la partition $P_{\Omega}$ et  $\{{\mathbbm{1}}_{\Omega_i^*}\}_i$ pour la partition $P_{\Omega^*}^*$.
On note $m_j$ et $T_j$ (resp. $m_i^*$ et $T_j^*$) les masses et températures avant projection sur la partition $P_{\Omega}$ (resp. après projection sur la partition $P_{\Omega^*}^*$). En définissant la matrice de projection $Q_{i,j}$ par :
$$Q_{i,j}=\frac{\int_{\Omega_i^*\cap\Omega_j}{\mathbbm{1}}_{\Omega_i^*}{\mathbbm{1}}_{\Omega_j}\, dz}{ \int_{\Omega_j}{\mathbbm{1}}_{\Omega_j}^2\, dz}=\frac{\vert \Omega_i^*\cap\Omega_j \vert}{\vert \Omega_j \vert},$$ les masses projetées sont données par :
$$m_i^*=\sum_j Q_{i,j} m_j$$
Afin d'assurer la conservation en énergie interne, les températures projetées $T_i^*$ sont calculées par un système itératif afin de vérifier la condition :
$$m_i^* \heatCp[s]{i}(T_i^*) T_i^* = \sum_j P_{i,j} m_j \heatCp[s]{j} (T_j) T_j$$
